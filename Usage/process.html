<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="distance" href="distance/index.html" /><link rel="prev" title="Usage" href="index.html" />

    <meta name="generator" content="sphinx-4.5.0, furo 2022.04.07"/>
        <title>rapidfuzz.process - RapidFuzz 2.0.10 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=68f4518137b9aefe99b631505a2064c3c42c9852" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">RapidFuzz 2.0.10 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">RapidFuzz 2.0.10 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Usage</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">rapidfuzz.process</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="distance/index.html">distance</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="distance/Levenshtein.html">Levenshtein</a></li>
<li class="toctree-l3"><a class="reference internal" href="distance/Indel.html">Indel</a></li>
<li class="toctree-l3"><a class="reference internal" href="distance/Hamming.html">Hamming</a></li>
<li class="toctree-l3"><a class="reference internal" href="distance/Jaro.html">Jaro</a></li>
<li class="toctree-l3"><a class="reference internal" href="distance/JaroWinkler.html">JaroWinkler</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fuzz.html">rapidfuzz.fuzz</a></li>
<li class="toctree-l2"><a class="reference internal" href="string_metric.html">rapidfuzz.string_metric</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">rapidfuzz.utils</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog_link.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog_link.html#added">Added</a></li>
<li class="toctree-l1"><a class="reference internal" href="../License.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../References.html">References</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/maxbachmann/RapidFuzz">GitHub Repository</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="rapidfuzz-process">
<h1>rapidfuzz.process<a class="headerlink" href="#rapidfuzz-process" title="Permalink to this headline">#</a></h1>
<section id="cdist">
<h2>cdist<a class="headerlink" href="#cdist" title="Permalink to this headline">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="rapidfuzz.process.cdist">
<span class="sig-prename descclassname"><span class="pre">rapidfuzz.process.</span></span><span class="sig-name descname"><span class="pre">cdist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;cyfunction</span> <span class="pre">ratio&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processor=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_cutoff=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rapidfuzz.process.cdist" title="Permalink to this definition">#</a></dt>
<dd><p>Compute distance/similarity between each pair of the two collections of inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queries</strong> (<em>Collection</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>]</em>) – list of all strings the queries</p></li>
<li><p><strong>choices</strong> (<em>Collection</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>]</em>) – list of all strings the query should be compared</p></li>
<li><p><strong>scorer</strong> (<em>Callable</em><em>, </em><em>optional</em>) – <p>Optional callable that is used to calculate the matching score between
the query and each choice. This can be:</p>
<ul>
<li><p>a scorer using the RapidFuzz C-API like the builtin scorers in RapidFuzz,
which can return a distance or similarity between two strings. Further details can be found here.</p></li>
<li><p>a Python function which returns a similarity between two strings in the range 0-100. This is not
recommended, since it is far slower than a scorer using the RapidFuzz C-API.</p></li>
</ul>
<p>fuzz.ratio is used by default.</p>
</p></li>
<li><p><strong>processor</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Optional callable that is used to preprocess the strings before
comparing them. Default is None, which deactivates this behaviour.</p></li>
<li><p><strong>score_cutoff</strong> (<em>Any</em><em>, </em><em>optional</em>) – Optional argument for a score threshold. When an edit distance is used this represents the maximum
edit distance and matches with a <cite>distance &lt;= score_cutoff</cite> are inserted as -1. When a
normalized edit distance is used this represents the minimal similarity
and matches with a <cite>similarity &gt;= score_cutoff</cite> are inserted as 0.
Default is None, which deactivates this behaviour.</p></li>
<li><p><strong>dtype</strong> (<em>data-type</em><em>, </em><em>optional</em>) – <p>The desired data-type for the result array.Depending on the scorer type the following
dtypes are supported:</p>
<ul>
<li><p>similarity:
- np.float32, np.float64
- np.uint8 -&gt; stores fixed point representation of the result scaled to a range 0-100</p></li>
<li><p>distance:
- np.int8, np.int16, np.int32, np.int64</p></li>
</ul>
<p>If not given, then the type will be np.float32 for similarities and np.int32 for distances.</p>
</p></li>
<li><p><strong>workers</strong> (<em>int</em><em>, </em><em>optional</em>) – The calculation is subdivided into workers sections and evaluated in parallel.
Supply -1 to use all available CPU cores.
This argument is only available for scorers using the RapidFuzz C-API so far, since it
releases the Python GIL.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em><em>, </em><em>optional</em>) – any other named parameters are passed to the scorer. This can be used to pass
e.g. weights to string_metric.levenshtein</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a matrix of dtype with the distance/similarity between each pair
of the two collections of inputs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>
</section>
<section id="extract">
<h2>extract<a class="headerlink" href="#extract" title="Permalink to this headline">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="rapidfuzz.process.extract">
<span class="sig-prename descclassname"><span class="pre">rapidfuzz.process.</span></span><span class="sig-name descname"><span class="pre">extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;cyfunction</span> <span class="pre">WRatio&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processor=&lt;cyfunction</span> <span class="pre">default_process&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit=5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_cutoff=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rapidfuzz.process.extract" title="Permalink to this definition">#</a></dt>
<dd><p>Find the best matches in a list of choices. The list is sorted by the similarity.
When multiple choices have the same similarity, they are sorted by their index</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>Sequence</em><em>[</em><em>Hashable</em><em>]</em>) – string we want to find</p></li>
<li><p><strong>choices</strong> (<em>Collection</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>] </em><em>| </em><em>Mapping</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>]</em>) – list of all strings the query should be compared with or dict with a mapping
{&lt;result&gt;: &lt;string to compare&gt;}</p></li>
<li><p><strong>scorer</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Optional callable that is used to calculate the matching score between
the query and each choice. This can be any of the scorers included in RapidFuzz
(both scorers that calculate the edit distance or the normalized edit distance), or
a custom function, which returns a normalized edit distance.
fuzz.WRatio is used by default.</p></li>
<li><p><strong>processor</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Optional callable that reformats the strings.
utils.default_process is used by default, which lowercases the strings and trims whitespace</p></li>
<li><p><strong>limit</strong> (<em>int</em>) – maximum amount of results to return</p></li>
<li><p><strong>score_cutoff</strong> (<em>Any</em><em>, </em><em>optional</em>) – Optional argument for a score threshold. When an edit distance is used this represents the maximum
edit distance and matches with a <cite>distance &lt;= score_cutoff</cite> are ignored. When a
normalized edit distance is used this represents the minimal similarity
and matches with a <cite>similarity &gt;= score_cutoff</cite> are ignored. For edit distances this defaults to
-1, while for normalized edit distances this defaults to 0.0, which deactivates this behaviour.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em><em>, </em><em>optional</em>) – any other named parameters are passed to the scorer. This can be used to pass
e.g. weights to string_metric.levenshtein</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>The return type is always a List of Tuples with 3 elements. However the values stored in the
tuple depend on the types of the input arguments.</p>
<ul>
<li><p>The first element is always the <cite>choice</cite>, which is the value thats compared to the query.</p></li>
<li><p>The second value represents the similarity calculated by the scorer. This can be:</p>
<ul class="simple">
<li><p>An edit distance (distance is 0 for a perfect match and &gt; 0 for non perfect matches).
In this case only choices which have a <cite>distance &lt;= max</cite> are returned.
An example of a scorer with this behavior is <cite>string_metric.levenshtein</cite>.</p></li>
<li><p>A normalized edit distance (similarity is a score between 0 and 100, with 100 being a perfect match).
In this case only choices which have a <cite>similarity &gt;= score_cutoff</cite> are returned.
An example of a scorer with this behavior is <cite>string_metric.normalized_levenshtein</cite>.</p></li>
</ul>
<p>Note, that for all scorers, which are not provided by RapidFuzz, only normalized edit distances are supported.</p>
</li>
<li><p>The third parameter depends on the type of the <cite>choices</cite> argument it is:</p>
<ul class="simple">
<li><p>The <cite>index of choice</cite> when choices is a simple iterable like a list</p></li>
<li><p>The <cite>key of choice</cite> when choices is a mapping like a dict, or a pandas Series</p></li>
</ul>
</li>
</ul>
<p>The list is sorted by <cite>score_cutoff</cite> or <cite>max</cite> depending on the scorer used. The first element in the list
has the <cite>highest similarity</cite>/<cite>smallest distance</cite>.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Tuple[Sequence[Hashable], Any, Any]]</p>
</dd>
</dl>
</dd></dl>
</section>
<section id="extract-iter">
<h2>extract_iter<a class="headerlink" href="#extract-iter" title="Permalink to this headline">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="rapidfuzz.process.extract_iter">
<span class="sig-prename descclassname"><span class="pre">rapidfuzz.process.</span></span><span class="sig-name descname"><span class="pre">extract_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;cyfunction</span> <span class="pre">WRatio&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processor=&lt;cyfunction</span> <span class="pre">default_process&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_cutoff=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rapidfuzz.process.extract_iter" title="Permalink to this definition">#</a></dt>
<dd><p>Find the best match in a list of choices</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>Sequence</em><em>[</em><em>Hashable</em><em>]</em>) – string we want to find</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>] </em><em>| </em><em>Mapping</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>]</em>) – list of all strings the query should be compared with or dict with a mapping
{&lt;result&gt;: &lt;string to compare&gt;}</p></li>
<li><p><strong>scorer</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Optional callable that is used to calculate the matching score between
the query and each choice. This can be any of the scorers included in RapidFuzz
(both scorers that calculate the edit distance or the normalized edit distance), or
a custom function, which returns a normalized edit distance.
fuzz.WRatio is used by default.</p></li>
<li><p><strong>processor</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Optional callable that reformats the strings.
utils.default_process is used by default, which lowercases the strings and trims whitespace</p></li>
<li><p><strong>score_cutoff</strong> (<em>Any</em><em>, </em><em>optional</em>) – Optional argument for a score threshold. When an edit distance is used this represents the maximum
edit distance and matches with a <cite>distance &lt;= score_cutoff</cite> are ignored. When a
normalized edit distance is used this represents the minimal similarity
and matches with a <cite>similarity &gt;= score_cutoff</cite> are ignored. For edit distances this defaults to
-1, while for normalized edit distances this defaults to 0.0, which deactivates this behaviour.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em><em>, </em><em>optional</em>) – any other named parameters are passed to the scorer. This can be used to pass
e.g. weights to string_metric.levenshtein</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>Tuple[Sequence[Hashable], Any, Any]</em> – Yields similarity between the query and each choice in form of a Tuple with 3 elements.
The values stored in the tuple depend on the types of the input arguments.</p>
<ul>
<li><p>The first element is always the current <cite>choice</cite>, which is the value thats compared to the query.</p></li>
<li><p>The second value represents the similarity calculated by the scorer. This can be:</p>
<ul class="simple">
<li><p>An edit distance (distance is 0 for a perfect match and &gt; 0 for non perfect matches).
In this case only choices which have a <cite>distance &lt;= max</cite> are yielded.
An example of a scorer with this behavior is <cite>string_metric.levenshtein</cite>.</p></li>
<li><p>A normalized edit distance (similarity is a score between 0 and 100, with 100 being a perfect match).
In this case only choices which have a <cite>similarity &gt;= score_cutoff</cite> are yielded.
An example of a scorer with this behavior is <cite>string_metric.normalized_levenshtein</cite>.</p></li>
</ul>
<p>Note, that for all scorers, which are not provided by RapidFuzz, only normalized edit distances are supported.</p>
</li>
<li><p>The third parameter depends on the type of the <cite>choices</cite> argument it is:</p>
<ul class="simple">
<li><p>The <cite>index of choice</cite> when choices is a simple iterable like a list</p></li>
<li><p>The <cite>key of choice</cite> when choices is a mapping like a dict, or a pandas Series</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
</dd></dl>
</section>
<section id="extractone">
<h2>extractOne<a class="headerlink" href="#extractone" title="Permalink to this headline">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="rapidfuzz.process.extractOne">
<span class="sig-prename descclassname"><span class="pre">rapidfuzz.process.</span></span><span class="sig-name descname"><span class="pre">extractOne</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;cyfunction</span> <span class="pre">WRatio&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processor=&lt;cyfunction</span> <span class="pre">default_process&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_cutoff=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rapidfuzz.process.extractOne" title="Permalink to this definition">#</a></dt>
<dd><p>Find the best match in a list of choices. When multiple elements have the same similarity,
the first element is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>Sequence</em><em>[</em><em>Hashable</em><em>]</em>) – string we want to find</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>] </em><em>| </em><em>Mapping</em><em>[</em><em>Sequence</em><em>[</em><em>Hashable</em><em>]</em><em>]</em>) – list of all strings the query should be compared with or dict with a mapping
{&lt;result&gt;: &lt;string to compare&gt;}</p></li>
<li><p><strong>scorer</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Optional callable that is used to calculate the matching score between
the query and each choice. This can be any of the scorers included in RapidFuzz
(both scorers that calculate the edit distance or the normalized edit distance), or
a custom function, which returns a normalized edit distance.
fuzz.WRatio is used by default.</p></li>
<li><p><strong>processor</strong> (<em>Callable</em><em>, </em><em>optional</em>) – Optional callable that reformats the strings.
utils.default_process is used by default, which lowercases the strings and trims whitespace</p></li>
<li><p><strong>score_cutoff</strong> (<em>Any</em><em>, </em><em>optional</em>) – Optional argument for a score threshold. When an edit distance is used this represents the maximum
edit distance and matches with a <cite>distance &lt;= score_cutoff</cite> are ignored. When a
normalized edit distance is used this represents the minimal similarity
and matches with a <cite>similarity &gt;= score_cutoff</cite> are ignored. For edit distances this defaults to
-1, while for normalized edit distances this defaults to 0.0, which deactivates this behaviour.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em><em>, </em><em>optional</em>) – any other named parameters are passed to the scorer. This can be used to pass
e.g. weights to string_metric.levenshtein</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><em>Tuple[Sequence[Hashable], Any, Any]</em> – Returns the best match in form of a Tuple with 3 elements. The values stored in the
tuple depend on the types of the input arguments.</p>
<ul>
<li><p>The first element is always the <cite>choice</cite>, which is the value thats compared to the query.</p></li>
<li><p>The second value represents the similarity calculated by the scorer. This can be:</p>
<ul class="simple">
<li><p>An edit distance (distance is 0 for a perfect match and &gt; 0 for non perfect matches).
In this case only choices which have a <cite>distance &lt;= score_cutoff</cite> are returned.
An example of a scorer with this behavior is <cite>string_metric.levenshtein</cite>.</p></li>
<li><p>A normalized edit distance (similarity is a score between 0 and 100, with 100 being a perfect match).
In this case only choices which have a <cite>similarity &gt;= score_cutoff</cite> are returned.
An example of a scorer with this behavior is <cite>string_metric.normalized_levenshtein</cite>.</p></li>
</ul>
<p>Note, that for all scorers, which are not provided by RapidFuzz, only normalized edit distances are supported.</p>
</li>
<li><p>The third parameter depends on the type of the <cite>choices</cite> argument it is:</p>
<ul class="simple">
<li><p>The <cite>index of choice</cite> when choices is a simple iterable like a list</p></li>
<li><p>The <cite>key of choice</cite> when choices is a mapping like a dict, or a pandas Series</p></li>
</ul>
</li>
</ul>
</li>
<li><p><em>None</em> – When no choice has a <cite>similarity &gt;= score_cutoff</cite>/<cite>distance &lt;= score_cutoff</cite> None is returned</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rapidfuzz.process</span> <span class="kn">import</span> <span class="n">extractOne</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rapidfuzz.string_metric</span> <span class="kn">import</span> <span class="n">levenshtein</span><span class="p">,</span> <span class="n">normalized_levenshtein</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rapidfuzz.fuzz</span> <span class="kn">import</span> <span class="n">ratio</span>
</pre></div>
</div>
<p>extractOne can be used with normalized edit distances.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">ratio</span><span class="p">)</span>
<span class="go">("abcd", 75.0, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">normalized_levenshtein</span><span class="p">)</span>
<span class="go">("abcd", 75.0, 1)</span>
</pre></div>
</div>
<p>extractOne can be used with edit distances as well.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">levenshtein</span><span class="p">)</span>
<span class="go">("abce", 1, 0)</span>
</pre></div>
</div>
<p>additional settings of the scorer can be passed as keyword arguments to extractOne</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">levenshtein</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">("abcde", 2, 1)</span>
</pre></div>
</div>
<p>when a mapping is used for the choices the key of the choice is returned instead of the List index</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">{</span><span class="s2">"key"</span><span class="p">:</span> <span class="s2">"abce"</span><span class="p">},</span> <span class="n">scorer</span><span class="o">=</span><span class="n">ratio</span><span class="p">)</span>
<span class="go">("abcd", 75.0, "key")</span>
</pre></div>
</div>
<p>By default each string is preprocessed using <cite>utils.default_process</cite>, which lowercases the strings,
replaces non alphanumeric characters with whitespaces and trims whitespaces from start and end of them.
This behavior can be changed by passing a custom function, or None to disable the behavior. Preprocessing
can take a significant part of the runtime, so it makes sense to disable it, when it is not required.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abdD"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">ratio</span><span class="p">)</span>
<span class="go">("abcD", 100.0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abdD"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">ratio</span><span class="p">,</span> <span class="n">processor</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">("abcD", 75.0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abdD"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">ratio</span><span class="p">,</span> <span class="n">processor</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="go">("abcD", 100.0, 0)</span>
</pre></div>
</div>
<p>When only results with a similarity above a certain threshold are relevant, the parameter score_cutoff can be
used to filter out results with a lower similarity. This threshold is used by some of the scorers to exit early,
when they are sure, that the similarity is below the threshold.
For normalized edit distances all results with a similarity below score_cutoff are filtered out</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">ratio</span><span class="p">)</span>
<span class="go">("abce", 75.0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">ratio</span><span class="p">,</span> <span class="n">score_cutoff</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
<p>For edit distances all results with an edit distance above the score_cutoff are filtered out</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">levenshtein</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">("abce", 2, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extractOne</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"abce"</span><span class="p">],</span> <span class="n">scorer</span><span class="o">=</span><span class="n">levenshtein</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">score_cutoff</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
</dd></dl>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="distance/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">distance</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Usage</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021, Max Bachmann
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">rapidfuzz.process</a><ul>
<li><a class="reference internal" href="#cdist">cdist</a></li>
<li><a class="reference internal" href="#extract">extract</a></li>
<li><a class="reference internal" href="#extract-iter">extract_iter</a></li>
<li><a class="reference internal" href="#extractone">extractOne</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>